!function(a){"use strict";function e(e){e.preventDefault();var i=jQuery(this),r=i.find(".exp-add-to-wishlist-icon"),t={add_to_wishlist:i.attr("data-product-id"),product_type:i.attr("data-product-type"),action:yith_wcwl_l10n.actions.add_to_wishlist_action};a.ajax({type:"POST",url:yith_wcwl_l10n.ajax_url,data:t,dataType:"json",beforeSend:function(){i.addClass("exp-show-loader")},complete:function(){i.removeClass("exp-show-loader")},success:function(e){var t;"true"==e.result&&(0<i.find(".exp-add-to-wishlist-text").length&&0<(t=i.find(".exp-add-to-wishlist-text")).length&&t.text("Browse Wishlist"),i.removeClass("exp-show-loader, exp-wc-trigger-add-to-wishlist"),i.attr("href",e.wishlist_url),r.remove(),i.addClass("exp-already-in-wishlist"))}})}function t(){var e=jQuery(".woocommerce-cart-form .exp-wc-update-cart"),t=jQuery('.woocommerce-cart-form :input[name="update_cart"]');e.addClass("enabled"),t.prop("disabled")&&t.prop("disabled",!1)}function i(){var e=jQuery(".exp-quick-view");0<e.length&&e.on("click",function(e){var t=jQuery(this),i=t.attr("data-product-id");null!=i&&(t.addClass("exp-show-loader"),function(e,n){null!=exponentThemeConfig&&jQuery.post(exponentThemeConfig.ajaxurl,{action:"exponent_quickview",product:e},function(e){jQuery(h).append(e);var t,i,r,a=jQuery(".exp-wc-quickview-wrap");0<a.length&&(a.find(".exp-wc-close-quickview, .exp-wc-quickview-overlay").on("click",function(e){a.removeClass("exp-wc-quickview-animate"),setTimeout(function(){a.remove()},500)}),t=a.find(".exp-quickview-slider"),i=a.find(".variations_form"),r=a.find(".exp-wc-product-info"),asyncloader.require(["flickity","perfectScrollbar"],function(){0<t.length&&t.flickity({contain:!0,lazyLoad:"1"==t.attr("data-lazy-load"),pageDots:"1"==t.attr("data-dots")&&1<t.find(".be-slide").length,prevNextButtons:"1"==t.attr("data-arrows")&&1<t.find(".be-slide").length}),0<r.length&&new PerfectScrollbar(r[0]),0<i.length&&(i.wc_variation_form(),i.on("found_variation",Q)),setTimeout(function(){n.removeClass("exp-show-loader"),a.addClass("exp-wc-quickview-animate")},50)}))})}(i,t))})}var s,r,n,o,c,l,d,u,m,p,f,g,h=document.body,w=jQuery(window),y=jQuery(document),_=((g=jQuery(".exp-wc-cart-slidebar-wrap")).find(".exp-wc-cart-widget-overlay, .exp-wc-mini-cart-close-icon").on("click",function(){g.removeClass("exp-wc-slidebar-visible")}),function(){0<g.length&&g.addClass("exp-wc-slidebar-visible")}),v=(p=jQuery(".exp-wc-main-slider"),f=jQuery.isFunction(jQuery.fn.zoom)&&"undefined"!=typeof wc_single_product_params&&wc_single_product_params.zoom_enabled,function(e){0<p.length&&1024<w.width()&&f&&(d=null==e?p.find(".exp-wc-main-slider__image"):e,u=p.width(),m=p.height(),d.each(function(){var e=jQuery(this),t=e.find("img");if(t.attr("data-large_image_width")>u&&t.attr("data-large_image_height")>m){var i=jQuery.extend({url:t.attr("data-large_image"),callback:function(){a(this).on("click",function(e){e.stopPropagation()})},touch:!1},wc_single_product_params.zoom_options);"ontouchstart"in document.documentElement&&(i.on="click"),e.trigger("zoom.destroy"),e.zoom(i)}else e.trigger("zoom.destroy")}))}),x=function(){var e=jQuery(".exp-wc-cart-contents-wrap"),t=jQuery(".woocommerce-mini-cart");0<e.length&&0<t.length&&e.outerHeight()>t.height()&&asyncloader.require("perfectScrollbar",function(){new PerfectScrollbar(t[0])})},j=function(e,r){var t,a,i,n,o,c=jQuery(this).closest(".product");r&&r.image&&r.image.src&&1<r.image.src.length&&(jQuery(h).hasClass("product-template-product_fixed")?0<(n=jQuery(".woocommerce-product-fixed-gallery")).length&&(0<n.find('img[src = "'+r.image.full_src+'"]').length?jQuery("html, body").animate({scrollTop:n.find('img[src = "'+r.image.full_src+'"]').closest(".woocommerce-product-gallery__image").offset().top},600):(t=n.eq(0).find("img").attr("src")||n.eq(0).find("img").attr("data-src"),(a=n.find('img[src = "'+t+'"], img[data-src = "'+t+'"]')).each(function(){var e=jQuery(this);null!=e.attr("src")?e.attr("src",r.image.full_src):null!=e.attr("data-src")&&e.attr("data-src",r.image.full_src)}),jQuery("html, body").animate({scrollTop:a.eq(0).closest(".woocommerce-product-gallery__image").offset().top},600))):(i=jQuery(".exp-wc-main-slider"),o=jQuery(".exp-wc-thumb-slider"),0<i.length&&(i=c.find(".exp-wc-main-slider"),o=c.find(".exp-wc-thumb-slider"),0<i.length&&0<i.find('.be-slide img[src = "'+r.image.src+'"]').length?i.flickity("selectCell",i.find('.be-slide img[src = "'+r.image.src+'"]').closest(".be-slide").index()):([i,o].forEach(function(i){0<i.length&&(t=i.find(".be-slide").eq(0).find("img").attr("src")||i.find(".be-slide").eq(0).find("img").attr("data-src"),(a=i.find('img[src = "'+t+'"]')).each(function(){var e=jQuery(this),t=e.closest(".be-slide");i.hasClass("exp-wc-main-slider")&&(t.attr("data-src",r.image.full_src),t.attr("data-thumb",r.image.gallery_thumbnail_src),e.attr("data-large_image",r.image.full_src),e.attr("data-large_image_width",r.image.full_src_w),e.attr("data-large_image_height",r.image.full_src_h),null!=s&&s.getGalleries(),v(t)),null!=e.attr("src")?e.attr("src",i.hasClass("exp-wc-main-slider")?r.image.src:r.image.gallery_thumbnail_src):null!=e.attr("data-src")&&e.attr("data-src",i.hasClass("exp-wc-main-slider")?r.image.src:r.image.gallery_thumbnail_src)}))}),i.flickity("selectCell",0)))))},Q=function(e,t){var i,r,a=jQuery(this).closest(".exp-wc-quickview").find(".exp-quickview-slider");0<a.length&&t&&t.image&&t.image.src&&1<t.image.src.length&&(0<a.find('.be-slide img[src = "'+t.image.src+'"]').length?(r=a.find('.be-slide img[src = "'+t.image.src+'"]').closest(".be-slide").index(),a.flickity("selectCell",r)):(i=a.find(".be-slide").eq(0).find("img").attr("src")||a.find(".be-slide").eq(0).find("img").attr("data-src"),a.find('img[src = "'+i+'"]').each(function(){var e=jQuery(this);null!=e.attr("src")?e.attr("src",t.image.src):null!=e.attr("data-src")&&e.attr("data-src",t.image.src)}),a.flickity("selectCell",0)))},b=(c=jQuery(h).attr("data-be-page-template")||"",l=!1,"product_fixed"===c&&(r=jQuery(".exp-wc-product-info-inner,.exp-wc-product-gallery-inner-wrap"),n=jQuery(h).hasClass("admin-bar")?72:0,o=r.closest(".be-row"),w.on("resize",function(e){0<r.length&&0<o.length&&(window.innerWidth<1024&&l?(r.trigger("sticky_kit:detach"),l=!1):1024<=window.innerWidth&&!l&&asyncloader.require("sticky-kit",function(){r.stick_in_parent({parent:o,offset_top:n}),l=!0}))})),{init:function(){"product_fixed"===c&&1023<window.innerWidth&&asyncloader.require("sticky-kit",function(){0<r.length&&0<o.length&&!l&&(r.stick_in_parent({parent:o,offset_top:n}),l=!0)})},recalc:function(){"product_fixed"===c&&0<r.length&&setTimeout(function(){r.trigger("sticky_kit:recalc")},200)}});a(function(){y.on("click",".exp-wc-qty-plus, .exp-wc-qty-minus",function(){var e=jQuery(this),t=e.siblings(".qty"),i=parseInt(t.attr("min")),r=parseInt(t.attr("max")),a=parseInt(t.val());e.hasClass("exp-wc-qty-plus")?(isNaN(r)||a<r)&&t.val(parseInt(a)+1):e.hasClass("exp-wc-qty-minus")&&(isNaN(i)||i<a)&&t.val(parseInt(a)-1)}),x(),function(){var e=jQuery(".exponent-cart");0<e.length&&e.on("click",function(e){e.preventDefault(),_()})}(),jQuery(h).on("adding_to_cart",function(e,t,i){0<t.length&&t.parent().addClass("exp-show-loader")}),jQuery(h).on("added_to_cart",function(e,t,i,r){0<r.length&&r.parent().removeClass("exp-show-loader"),x(),_()}),jQuery(h).on("removed_from_cart",function(e,t,i){x()}),jQuery(h).on("wc_cart_button_updated",function(e,t){0<t.length&&t.parent().find(".added_to_cart").remove()}),jQuery(".variations_form .single_variation").on("show_variation",b.recalc),jQuery(".variations_form .single_variation").on("hide_variation",b.recalc),jQuery(".variations_form").on("found_variation",j),jQuery(document).on("change input",".woocommerce-cart-form .cart_item :input",t),jQuery(document).on("click",".woocommerce-cart-form .exp-wc-qty-plus, .woocommerce-cart-form .exp-wc-qty-minus",t),jQuery(document).on("click",".exp-wc-trigger-add-to-wishlist",e),jQuery(".exp-wc-main-slider .be-slide-inner").on("click",function(e){e.stopPropagation()}),jQuery(".exp-wc-main-slider").on("staticClick.flickity",function(e,t,i,r){i&&null!=s&&s.open("product-gallery",r)}),i(),function(){var e=jQuery(".comment-form-rating .stars a");if(0<e.length){var t=jQuery('<div class="exp-star-wrap"><svg class="exp-filled-star" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><polygon fill="#4C4D4D" points="1170 6866 1171.9 6871.348 1177 6871.348 1172.838 6874.488 1174.327 6880 1170 6876.695 1165.675 6880 1167.162 6874.488 1163 6871.348 1168.1 6871.348" transform="translate(-1163 -6866)"/></svg><svg class="exp-hollow-star" xmlns="http://www.w3.org/2000/svg" width="14" height="15" viewBox="0 0 14 15"><polygon fill="none" stroke="#979797" points="1189 6866 1190.9 6871.348 1196 6871.348 1191.838 6874.488 1193.327 6880 1189 6876.695 1184.675 6880 1186.162 6874.488 1182 6871.348 1187.1 6871.348" transform="translate(-1182 -6866)"/></svg></div>');e.append(t),e.on("mouseenter",function(e){var t=jQuery(this);t.addClass("exp-hovered"),t.prevAll().addClass("exp-hovered")}),e.on("mouseleave",function(e){var t=jQuery(this);t.removeClass("exp-hovered"),t.prevAll().removeClass("exp-hovered")}),e.on("click",function(e){var t=jQuery(this);t.siblings().removeClass("active"),t.addClass("active"),setTimeout(function(){t.prevAll().addClass("active")},0)})}}(),asyncloader.require("modulobox",function(){(s=new ModuloBox({mediaSelector:".product-gallery-lightbox",thumbnails:!1})).init()}),v(),b.init()})}(jQuery);